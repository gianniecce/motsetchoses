{
    "contents" : "---\nlayout: post\ntitle:  \"Change the interval time \"\ncategories: [jekyll]\ntags: [mtus]\n---\n\n\n<span class='newthought'>This post</span> will discuss how to change the interval time when transforming time use data \n\n\n```{r, warning=FALSE, message=FALSE}\nlibrary('schoolmath')\nlibrary(dplyr)\n\ndta = read.csv('/Users/giacomovagni/site/motsetchoses/_data/dtaSpells.csv')\n```\n\n\n### Find the greatest common divisor \nWe need first \n\n```{r}\nl = length(dta$duration) \nv = array(0, l)\n\nfor(i in 2:l){\n  v[i] = gcd(dta$duration[i], dta$duration[i-1]) \n}\n\nminV = min(v[-1]) \nminV\ndta$duration = dta$duration / minV\n```\n\n```{r}\ndtaPP = dta[rep(1:nrow(dta), dta$duration), ] %>% \n  select(-duration) %>% \n  group_by(id, day) %>% \n  mutate( Time = 1:n())\n```\n\nThe new Long Person Period file has now `72` episodes, which is equals to `1440` when multiplied by `20` \n\n```{r}\ndtaPP %>% group_by(id, day) %>% summarise(max(Time))\n\n72 * 20\n```\n",
    "created" : 1459011879640.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "761940221",
    "id" : "51404C53",
    "lastKnownWriteTime" : 1459013073,
    "path" : "~/site/motsetchoses/_source/2016-03-26-change-interval-time.Rmd",
    "project_path" : "_source/2016-03-26-change-interval-time.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "type" : "r_markdown"
}