35 + 60 + 55
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
1 / 10000
1 / 1000
1 - (1 / 1000)
1 - 0.999
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
hey
```{r, warning=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
load('/Users/giacomovagni/site/motsetchoses/_data/dtaEpisode.RData')
dtaEpisode$weekend = ifelse(dtaEpisode$day == 1 | dtaEpisode$day == 7, 'weekend', 'weekdays')
```
```{r, fig.fullwidth = TRUE}
kable(dtaEpisode [1:2, 1:5])
```
dtaEpisode
dtaEpisode[1:2, 1:19]
dtaEpisode %>% group_by(hldid) %>% mutate(ncouple = n_distinct(idind)) %>% select(idind, ncouple)
dtaEpisode$idno
dtaEpisode %>% group_by(hldid) %>% mutate(ncouple = n_distinct(idno))
dtaEpisode %>% group_by(hldid) %>% mutate(ncouple = n_distinct(idno)) %>% select(idno, hldid, ncouple)
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
layout: post
title:  "Add a sum line"
categories: [rstats]
tags: [rstats]
---
```{r, warning=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
load('/Users/giacomovagni/site/motsetchoses/_data/dtaEpisode.RData')
dtaEpisode$weekend = ifelse(dtaEpisode$day == 1 | dtaEpisode$day == 7, 'weekend', 'weekdays')
```
dtaEpisode
load('/Users/giacomovagni/site/motsetchoses/_data/dtaSimple.RData')
dtaSimple
dtaSimple$av1
dtaSimple %>% group_by(sex) %>% summarise(av1)
dtaSimple %>% group_by(sex) %>% summarise(mean(av1))
dtaSimple %>% group_by(id) %>% summarise(mean(av1))
dtaSimple %>% group_by(idno) %>% summarise(mean(av1))
dtaSimple %>% select(matches('av'))
dtaSimple %>% group_by(idno) %>% select(matches('av')) %>% summarise(funs(mean))
select(matches('av')) %>% summarise_each(funs(mean))
dtaSimple %>% group_by(idno) %>%
select(matches('av')) %>% summarise_each(funs(mean))
dtaSimple %>% group_by() %>%
select(matches('av')) %>% summarise_each(funs(mean))
dtaSimple %>% group_by() %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt()
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex')
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean))
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value) %>%
summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value) %>%
summarise(value = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(datSum, ., all = T) %>%
arrange(as.character(value))
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value) %>%
summarise(value = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(dtaSimple, ., all = T) %>%
arrange(as.character(value))
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value) %>%
summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dt = dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(dt, ., all = T) %>%
arrange(as.character(value))
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(dt, ., all = F) %>%
arrange(as.character(value))
dt %>% summarise(variable = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(dt, ., all = T) %>%
arrange(as.character(value))
group_by(idno) %>% summarise(mean(av1))
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dt = select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dt = dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
dt
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dt
dt %>% summarise(value = "z Sum", FEMALE = 1444, MALE = 1440)
dt %>% summarise(variable = "z Sum", FEMALE = 1444, MALE = 1440)
dt %>% summarise(variable = "z Sum", FEMALE = 1444, MALE = 1440) %>%
merge(dt, ., all = T)
dt %>% summarise(variable = "z Sum", 1 = 1444, 2 = 1440) %>%
merge(dt, ., all = T)
dt %>% summarise(variable = "z Sum", men = 1444, men = 1440) %>%
merge(dt, ., all = T)
colnames(dt)
colnames(dt) = c("variable", "1", "2")
colnames(dt) = c("variable", "men", "women")
dt %>% summarise(variable = "z Sum", men = 1444, men = 1440) %>%
merge(dt, ., all = T)
dt %>% summarise(variable = "z Sum", men = 1444, women = 1440) %>%
merge(dt, ., all = T)
dt %>% summarise(variable = "Sum", men = 1444, women = 1440) %>%
merge(dt, ., all = T)
dt
dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex')
ags: [rstats]
---
```{r, warning=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
load('/Users/giacomovagni/site/motsetchoses/_data/dtaSimple.RData')
```
```{r}
dt = dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
colnames(dt) = c("variable", "men", "women")
dt %>% summarise(variable = "Sum", men = 1444, women = 1440) %>%
merge(dt, ., all = T)
```
load('/Users/giacomovagni/site/motsetchoses/_data/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
read.csv('/Users/giacomovagni/site/motsetchoses/_data/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
undp = read.csv('/Users/giacomovagni/site/motsetchoses/_data/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
UNDPmarriage2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>% melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status'))
UNDPmarriage2
undp2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>% melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status'))
undp2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>% melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status')) %>% filter(Country == 'United Kingdom' )
UNUK2050y = UNUK %>% filter(variable %in% c('X20.24', 'X25.29', 'X30.34', 'X35.39', 'X40.44', 'X45.49'))
undp2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>%
melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status')) %>% filter(Country == 'United Kingdom' )
undp2
undp2 = undp2 %>% filter(variable %in% c('X20.24', 'X25.29', 'X30.34', 'X35.39', 'X40.44', 'X45.49'))
undp2
UNUK2050ysummary = undp2 %>% group_by(Country, Year, Sex, Marital.status) %>%
summarise(meanshare = mean(value)) %>% unite(SexMSVar, Marital.status, Sex) %>%
select(-Country) %>% spread(SexMSVar, meanshare)
UNUK2050ysummary
UNUK2050ysummary = undp2 %>% filter(Marital.status %in% c("Married", "Single")) %>% group_by(Country, Year, Sex, Marital.status) %>%
summarise(meanshare = mean(value)) %>% unite(SexMSVar, Marital.status, Sex) %>%
select(-Country) %>% spread(SexMSVar, meanshare)
UNUK2050ysummary
kable(UNUK2050ysummary)
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
dt %>% summarise(variable = "Sum", men = 1444, women = 1440) %>%
merge(dt, ., all = T)
load('/Users/giacomovagni/site/motsetchoses/_data/dtaSimple.RData')
```
```{r}
dt = dtaSimple %>% group_by(sex) %>%
select(matches('av')) %>% summarise_each(funs(mean)) %>%
melt(id.vars = 'sex') %>% spread(sex, value)
colnames(dt) = c("variable", "men", "women")
dt %>% summarise(variable = "Sum", men = 1444, women = 1440) %>%
merge(dt, ., all = T)
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
undp = read.csv('/Users/giacomovagni/site/motsetchoses/_data/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
undp
read.csv('/Users/giacomovagni/site/motsetchoses/_data/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
undp = read.csv('/Users/giacomovagni/Desktop/UNPD_WMD_2012_MARITAL_STATUSUK.csv')
save(undp, file = '/Users/giacomovagni/site/motsetchoses/_data/undp.RData')
```{r}
undp2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>%
melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status')) %>% filter(Country == 'United Kingdom' )
undp2 = undp2 %>% filter(variable %in% c('X20.24', 'X25.29', 'X30.34', 'X35.39', 'X40.44', 'X45.49'))
UNUK2050ysummary = undp2 %>% filter(Marital.status %in% c("Married", "Single")) %>% group_by(Country, Year, Sex, Marital.status) %>%
summarise(meanshare = mean(value)) %>% unite(SexMSVar, Marital.status, Sex) %>%
select(-Country) %>% spread(SexMSVar, meanshare)
```
```{r}
kable(UNUK2050ysummary)
```
---
layout: post
title:  "Melt - Unite - Spread"
categories: [rstats]
tags: [rstats]
---
```{r, warning=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
load(file = '/Users/giacomovagni/site/motsetchoses/_data/undp.RData')
```
```{r}
undp2 = undp %>% select(Country, Year, Sex, Marital.status, X15.19, X20.24, X25.29, X30.34, X35.39, X40.44, X45.49, X50.54, X60.64, X65.) %>%
melt(id.vars = c('Country', 'Year', 'Sex', 'Marital.status')) %>% filter(Country == 'United Kingdom' )
undp2 = undp2 %>% filter(variable %in% c('X20.24', 'X25.29', 'X30.34', 'X35.39', 'X40.44', 'X45.49'))
UNUK2050ysummary = undp2 %>% filter(Marital.status %in% c("Married", "Single")) %>% group_by(Country, Year, Sex, Marital.status) %>%
summarise(meanshare = mean(value)) %>% unite(SexMSVar, Marital.status, Sex) %>%
select(-Country) %>% spread(SexMSVar, meanshare)
```
```{r}
kable(UNUK2050ysummary)
```
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
load(file = '/Users/giacomovagni/site/motsetchoses/_data/undp.RData')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
load('/Users/giacomovagni/site/motsetchoses/_data/ukAllsub.RData')
ukAllsub
ukAllsub %>% group_by(idind, day) %>% mutate(ndiaries = n)
ukAllsub %>% group_by(idind, day)
ukAllsub %>% group_by(idind, day) %>% mutate(ndiaries = n())
ukAllsub = ukAllsub %>% group_by(idind, day) %>% mutate(ndiaries = n())
ukAllsub
ukAllsub %>% select( idind, day, ndiaries, matches('main'))
ukAllsub_act = ukAllsub %>% select( idind, day, ndiaries, matches('main'))
ukAllsub_act
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries'))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>% separate(time, act, variable)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>% separate(into = time, col = variable)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>% separate(variable, c('time', 'main'))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries'))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>% mutate(substr(variable, 5, 6))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>% mutate(variable = substr(variable, 5, 6))
library(plyr)
library(dplyr)
library(tidyr)
library(mtusRlocal)
library(knitr)
library(reshape2)
library(xtable)
library(xtable)
load('/Users/giacomovagni/site/motsetchoses/_data/ukAllsub.RData')
ukAllsub = ukAllsub %>% group_by(idind, day) %>% mutate(ndiaries = n())
ukAllsub_act = ukAllsub %>% select( idind, day, ndiaries, matches('main'))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6)) %>%
mutate(variable = substr(variable, 5, 6))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable) %>%
summarise(n())
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable) %>%
summarise(n = n()) %>% spread(idind, n )
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable) %>%
summarise(n = n()) %>% spread(variable, n)
ukAllsub_act
ukAllsub_act
ukAllsub
ukAllsub_act %>% as.data.frame()
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable) %>%
summarise(n = n()) %>% spread(variable, n)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, variable)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n())
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n()) %>% spread(value, n)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n())
ukAllsub_act %>% as.data.frame()
ukAllsub_act[is.na(ukAllsub_act)] <- 'NA'
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n()) %>% spread(value, n)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n())
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n()) %>% spread(value, n)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n())
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n()) %>% spread(value, n)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n()) %>% spread(value, n, fill = 0)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>% spread(value, n, fill = 0)
ukAllsub_act
19 * 5
35 + 60
19 * 5
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>% spread(value, n, fill = 0)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(paste('act_', value, ''))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0) %>%
mutate(rowSums())
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0) %>%
mutate(rowSums(select(matches('act')))
)
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0) %>%
mutate(select(matches('act')))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0) %>%
select(matches('act'))
ukAllsub_act %>% melt(id.vars = c('idind', 'day', 'ndiaries')) %>%
# in order to retreive the time (nbr episodes) #
# mutate(variable = substr(variable, 5, 6)) %>%
group_by(idind, day, ndiaries, value) %>%
summarise(n = n() * 5) %>%
mutate(value = paste('act_', value, sep = '')) %>%
spread(value, n, fill = 0)
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
servr::jekyll(command = '/Users/giacomovagni/.rvm/gems/ruby-2.2.1/wrappers/jekyll build')
3 * 7
(3 * 7) / 2
